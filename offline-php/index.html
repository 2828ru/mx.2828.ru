<!DOCTYPE HTML><html lang="ru"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1"><title>Offline-версия сайта php</title><link rel="stylesheet" href="https://2828.ru/css/3000.css"><main><h3>Offline-версия сайта php</h3> 
<p>Этап первый. Создание нормальной html-версии сайта.<> 
<p>Проблема: сайт борется за звание динамического. Поэтому «нормальной» html-версии сайта не существует. Пути решения: скачать сайт какой-нибудь качалкой, типа offline explorer или teleport pro. Не канает: в результате получаем кучу непонятно чего со странной структурой директорий.<> 
<p>А мы пойдем другим путем: сайт динамический, но кто мешает нам нагенерировать страниц и сохранить их в статическом виде? А никто. В PHP есть функция ob_start (и иже с ней). Эта функция влючает буферизацию вывода, или, говоря простым языком, все, что должно выводиться на экран (в браузер) во время исполнения php-скрипта, включая html, не будет никуда выводиться, а будет идти в буфер. А буфер потом можно просто считать и записать на диск, в результате чего все, что должно было пойти в браузер, пойдет в файл на диске.<> 
<p>Пример:<> 
<textarea rows=18 style="width:99%"> 
<? 
ob_start (); 
// включаем буферизацию 
 
…… 
// тут исполняем всякую фигню (собственно, сам php-скрипт с html’ем). 
?> 
 
Тут, например, может идти какой угодно html-код. 
 
<? 
$buffer=ob_get_contents; 
// считываем буфер 
 
ob_end_clean (); 
// выключаем 
?> 
</textarea> 
 
<p>В результате имеем в переменной buffer все, что должно было выводиться в браузер. Записать это на диск — плевое дело.<> 
<p>Возможности буферизации может представить себе любой человек с богатым воображением: кэширование динамически генерящихся страниц, например. Или сжатие страницы перед выводом.<></main>